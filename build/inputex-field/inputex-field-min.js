YUI.add("inputex-field",function(e,t){YUI.add("inputex-field",function(e){var t=e.Lang,n=e.inputEx;n.Field=function(n){this.setOptions(n||{}),this.render(),this.publish("updated"),this.initEvents(),t.isUndefined(this.options.value)||this.setValue(this.options.value,!1),n.parentEl&&(t.isString(n.parentEl)?e.one("#"+n.parentEl).appendChild(this.getEl()):n.parentEl.appendChild(this.getEl()))},n.Field.prototype={setOptions:function(r){this.options={},this.options.name=r.name,this.options.value=r.value,this.options.id=r.id||e.guid(),this.options.label=r.label,this.options.description=r.description,this.options.wrapperClassName=r.wrapperClassName,this.options.messages={},this.options.messages.required=r.messages&&r.messages.required?r.messages.required:n.messages.required,this.options.messages.invalid=r.messages&&r.messages.invalid?r.messages.invalid:n.messages.invalid,this.options.className=r.className?r.className:"inputEx-Field",this.options.required=t.isUndefined(r.required)?!1:r.required,this.options.showMsg=t.isUndefined(r.showMsg)?!1:r.showMsg},setFieldName:function(e){},render:function(){this.divEl=n.cn("div",{className:this.options.wrapperClassName||"inputEx-fieldWrapper"}),this.options.id&&(this.divEl.id=this.options.id),this.options.required&&e.one(this.divEl).addClass("inputEx-required"),t.isString(this.options.label)&&(this.labelDiv=n.cn("div",{id:this.divEl.id+"-label",className:"inputEx-label"}),this.labelEl=n.cn("label",{"for":this.divEl.id+"-field"},null,this.options.label===""?"&nbsp;":this.options.label),this.labelDiv.appendChild(this.labelEl),this.divEl.appendChild(this.labelDiv)),this.fieldContainer=n.cn("div",{className:this.options.className}),this.renderComponent(),this.options.description&&this.fieldContainer.appendChild(n.cn("div",{id:this.divEl.id+"-desc",className:"inputEx-description"},null,this.options.description)),this.divEl.appendChild(this.fieldContainer),this.divEl.appendChild(n.cn("div",null,{clear:"both"}," "))},fireUpdatedEvt:function(){var e=this;setTimeout(function(){e.fire("updated",e.getValue(),e)},50)},renderComponent:function(){},getEl:function(){return this.divEl},initEvents:function(){},getValue:function(){},setValue:function(e,t){this.setClassFromState(),t!==!1&&this.fireUpdatedEvt()},setClassFromState:function(t){var r;this.previousState&&(r="inputEx-"+(this.previousState==n.stateRequired?n.stateInvalid:this.previousState),e.one(this.divEl).removeClass(r)),t=t||this.getState();if(t!=n.stateEmpty||!e.one(this.divEl).hasClass("inputEx-focused"))r="inputEx-"+(t==n.stateRequired?n.stateInvalid:t),e.one(this.divEl).addClass(r);this.options.showMsg&&this.displayMessage(this.getStateString(t)),this.previousState=t},getStateString:function(e){return e==n.stateRequired?this.options.messages.required:e==n.stateInvalid?this.options.messages.invalid:""},getState:function(){return this.isEmpty()?this.options.required?n.stateRequired:n.stateEmpty:this.validate()?n.stateValid:n.stateInvalid},validate:function(){return!0},onFocus:function(t){var n=e.one(this.getEl());n.removeClass("inputEx-empty"),n.addClass("inputEx-focused")},onBlur:function(t){e.one(this.getEl()).removeClass("inputEx-focused"),this.setClassFromState()},onChange:function(e){this.fireUpdatedEvt()},close:function(){},disable:function(){},enable:function(){},isDisabled:function(){return!1},focus:function(){},destroy:function(){var t=this.getEl();this.detachAll(),e.Event.purgeElement(t,!0),e.one(t).inDoc()&&t.parentNode.removeChild(t)},displayMessage:function(e){if(!this.fieldContainer)return;if(!this.msgEl){this.msgEl=n.cn("div",{className:"inputEx-message"});try{var t=this.divEl.getElementsByTagName("div");this.divEl.insertBefore(this.msgEl,t[t.length-1>=0?t.length-1:0])}catch(r){alert(r)}}this.msgEl.innerHTML=e},show:function(){this.divEl.style.display=""},hide:function(){this.divEl.style.display="none"},clear:function(e){this.setValue(t.isUndefined(this.options.value)?"":this.options.value,e)},isEmpty:function(){return this.getValue()===""},setParentField:function(e){this.parentField=e},getParentField:function(){return this.parentField}},e.augment(n.Field,e.EventTarget,null,null,{}),n.Field.groupOptions=[{type:"string",label:"Name",name:"name",value:"",required:!0},{type:"string",label:"Label",name:"label",value:""},{type:"string",label:"Description",name:"description",value:""},{type:"boolean",label:"Required?",name:"required",value:!1},{type:"boolean",label:"Show messages",name:"showMsg",value:!1}]},"3.1.0",{requires:["inputex","event-custom"]})},"@VERSION@");
