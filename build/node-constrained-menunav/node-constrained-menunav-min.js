YUI.add("node-constrained-menunav",function(e,t){var n=null,r;r=function(){if(n===null){var e=document.createElement("div");e.style.width=e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top=e.style.left="0",e.style.visibility="hidden",document.body.appendChild(e),n=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return n},NodeConstrainedMenuNav=function(){NodeConstrainedMenuNav.superclass.constructor.apply(this,arguments)},NodeConstrainedMenuNav.NAME="nodeConstrainedMenuNav",NodeConstrainedMenuNav.NS="menuNav",NodeConstrainedMenuNav.ATTRS={viewportPadding:{value:20}},e.extend(NodeConstrainedMenuNav,e.Plugin.NodeMenuNav,{_showMenu:function(t){NodeConstrainedMenuNav.superclass._showMenu.call(this,t),this._onWindowResize(null,t),e.one("win").on("windowresize",this._onWindowResize,this,t)},_hideMenu:function(t,n){e.one("win").detach("windowresize",this._onWindowResize),this.revertStyle(t.one(".yui3-menu-content")),NodeConstrainedMenuNav.superclass._hideMenu.call(this,t,n)},_onWindowResize:function(t,n){var i=e.DOM.winHeight(),s=this.get("viewportPadding"),o=n.one(".yui3-menu-content"),u=o.get("region"),a=i-s*2;u.height>=a?(o.set("isConstrained",!0),o.setStyles({height:a,overflowY:"scroll",width:u.width+r()+"px"}),n.setY(i-s-a)):(o.get("isConstrained")&&(n.set("isConstrained",!1),this.revertStyle(o),NodeConstrainedMenuNav.superclass._showMenu.call(this,n)),u.bottom>i-s&&n.setY(n.getY()-(u.bottom-i+s)))},revertStyle:function(e){e.setStyles({overflowY:"visible",height:"",width:""})}}),e.namespace("Plugin"),e.Plugin.NodeConstrainedMenuNav=NodeConstrainedMenuNav},"@VERSION@",{requires:["event-resize","node-menunav"]});
