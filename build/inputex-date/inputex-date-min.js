YUI.add("inputex-date",function(e,t){YUI.add("inputex-date",function(e){var t=e.Lang,n=e.inputEx;n.DateField=function(e){n.DateField.superclass.constructor.call(this,e)},e.extend(n.DateField,n.StringField,{setOptions:function(e){n.DateField.superclass.setOptions.call(this,e),this.options.className=e.className?e.className:"inputEx-Field inputEx-DateField",this.options.messages.invalid=e.invalidDate?e.invalidDate:n.messages.invalidDate,this.options.dateFormat=e.dateFormat||n.messages.defaultDateFormat,this.options.valueFormat=e.valueFormat},validate:function(){var e=this.el.value,t=this.options.dateFormat.match(/[^Ymd ]/g)[0],r=e.split(t);if(r.length!=3)return!1;if(isNaN(parseInt(r[0],10))||isNaN(parseInt(r[1],10))||isNaN(parseInt(r[2],10)))return!1;var i=this.options.dateFormat.split(t),s=n.indexOf("Y",i);if(r[s].length!=4)return!1;var o=parseInt(r[n.indexOf("d",i)],10),u=parseInt(r[s],10),a=parseInt(r[n.indexOf("m",i)],10)-1,f=new Date(u,a,o),l=f.getFullYear();return f.getDate()==o&&f.getMonth()==a&&l==u},setValue:function(e,t){if(e===""){n.DateField.superclass.setValue.call(this,"",t);return}var r="";if(e instanceof Date)r=n.DateField.formatDate(e,this.options.dateFormat);else if(this.options.valueFormat){var i=n.DateField.parseWithFormat(e,this.options.valueFormat);r=n.DateField.formatDate(i,this.options.dateFormat)}else r=e;n.DateField.superclass.setValue.call(this,r,t)},getValue:function(e){var t=n.DateField.superclass.getValue.call(this);if(t==="")return"";var r=n.DateField.parseWithFormat(t,this.options.dateFormat);return!e&&this.options.valueFormat?n.DateField.formatDate(r,this.options.valueFormat):r}}),n.DateField.parseWithFormat=function(e,t){var r=t.match(/[^Ymd ]/g)[0],i=e.split(r),s=t.split(r),o=parseInt(i[n.indexOf("d",s)],10),u=parseInt(i[n.indexOf("Y",s)],10),a=parseInt(i[n.indexOf("m",s)],10)-1;return new Date(u,a,o)},n.DateField.formatDate=function(e,t){var n=t.replace("Y",e.getFullYear()),r=e.getMonth()+1;n=n.replace("m",(r<10?"0":"")+r);var i=e.getDate();return n=n.replace("d",(i<10?"0":"")+i),n},n.registerType("date",n.DateField,[{type:"select",label:"Date format",name:"dateFormat",choices:[{value:"m/d/Y"},{value:"d/m/Y"}]}])},"3.1.0",{requires:["inputex-string"]})},"@VERSION@");
