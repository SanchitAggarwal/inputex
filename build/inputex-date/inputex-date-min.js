YUI.add("inputex-date",function(e,t){var n=e.Lang,r=e.inputEx;r.DateField=function(e){r.DateField.superclass.constructor.call(this,e)},e.extend(r.DateField,r.StringField,{setOptions:function(e){r.DateField.superclass.setOptions.call(this,e),this.options.className=e.className?e.className:"inputEx-Field inputEx-DateField",this.options.messages.invalid=e.invalidDate?e.invalidDate:r.messages.invalidDate,this.options.dateFormat=e.dateFormat||r.messages.defaultDateFormat,this.options.valueFormat=e.valueFormat},validate:function(){var e=this.el.value,t=this.options.dateFormat.match(/[^Ymd ]/g)[0],n=e.split(t);if(n.length!=3)return!1;if(isNaN(parseInt(n[0],10))||isNaN(parseInt(n[1],10))||isNaN(parseInt(n[2],10)))return!1;var i=this.options.dateFormat.split(t),s=r.indexOf("Y",i);if(n[s].length!=4)return!1;var o=parseInt(n[r.indexOf("d",i)],10),u=parseInt(n[s],10),a=parseInt(n[r.indexOf("m",i)],10)-1,f=new Date(u,a,o),l=f.getFullYear();return f.getDate()==o&&f.getMonth()==a&&l==u},setValue:function(e,t){if(e===""){r.DateField.superclass.setValue.call(this,"",t);return}var n="";if(e instanceof Date)n=r.DateField.formatDate(e,this.options.dateFormat);else if(this.options.valueFormat){var i=r.DateField.parseWithFormat(e,this.options.valueFormat);n=r.DateField.formatDate(i,this.options.dateFormat)}else n=e;r.DateField.superclass.setValue.call(this,n,t)},getValue:function(e){var t=r.DateField.superclass.getValue.call(this);if(t==="")return"";var n=r.DateField.parseWithFormat(t,this.options.dateFormat);return!e&&this.options.valueFormat?r.DateField.formatDate(n,this.options.valueFormat):n}}),r.DateField.parseWithFormat=function(e,t){var n=t.match(/[^Ymd ]/g)[0],i=e.split(n),s=t.split(n),o=parseInt(i[r.indexOf("d",s)],10),u=parseInt(i[r.indexOf("Y",s)],10),a=parseInt(i[r.indexOf("m",s)],10)-1;return new Date(u,a,o)},r.DateField.formatDate=function(e,t){var n=t.replace("Y",e.getFullYear()),r=e.getMonth()+1;n=n.replace("m",(r<10?"0":"")+r);var i=e.getDate();return n=n.replace("d",(i<10?"0":"")+i),n},r.registerType("date",r.DateField,[{type:"select",label:"Date format",name:"dateFormat",choices:[{value:"m/d/Y"},{value:"d/m/Y"}]}])},"@VERSION@",{requires:["inputex-string"],ix_provides:"date"});
