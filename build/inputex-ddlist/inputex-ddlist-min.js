YUI.add("inputex-ddlist",function(e,t){YUI.add("inputex-ddlist",function(e){var t=e.Lang,n=e.inputEx,r=e.Node.create,i=e.substitute,s;s=function(e){s.superclass.constructor.call(this,e)},s.LIST_TEMPLATE='<ul class="inputEx-ddlist">{items}</ul>',s.LIST_ITEM_CLASS="inputEx-ddlist-item",s.LIST_ITEM_TEMPLATE='<li class="{class}"><span class="inputEx-ddlist-item-label">{label}</span><input type="hidden" name="{name}" value="{value}" /></li>',e.extend(s,n.Field,{setOptions:function(n){s.superclass.setOptions.call(this,n),this.options.items=t.isArray(n.items)?n.items:[],this.options.valueKey=n.valueKey||"value",this.options.labelKey=n.labelKey||"label",this.options.name=n.name||e.guid(),this.options.name.substr(-2)!=="[]"&&(this.options.name+="[]")},renderComponent:function(){var t,n;t=e.Array.reduce(this.options.items,"",this.renderListItem,this),t=i(s.LIST_TEMPLATE,{items:t}),n=r(t),n.appendTo(this.fieldContainer),this.sortable=new e.Sortable({container:n,nodes:"."+s.LIST_ITEM_CLASS,opacity:".1"}),this.sortable.delegate.dd.on("drag:end",function(e){this.fireUpdatedEvt()},this)},renderListItem:function(e,t){return e+i(s.LIST_ITEM_TEMPLATE,{"class":s.LIST_ITEM_CLASS,value:t[this.options.valueKey],label:t[this.options.labelKey],name:this.options.name})},addItem:function(t){var n=this.sortable.get("container"),r=this.renderListItem("",t),i=e.Node.create(r);n.append(i),this.sortable.sync()},removeItem:function(e){this.sortable.sync()},getValue:function(){return e.one(this.fieldContainer).all("."+s.LIST_ITEM_CLASS+" input").get("value")}}),n.DDListField=s,n.registerType("ddlist",s)},"3.1.0",{requires:["inputex-field","array-extras","sortable","substitute"]})},"@VERSION@");
