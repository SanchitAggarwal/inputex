YUI.add("inputex-multiautocomplete",function(e,t){YUI.add("inputex-multiautocomplete",function(e){var t=e.Lang,n=e.inputEx;n.MultiAutoComplete=function(e){n.MultiAutoComplete.superclass.constructor.call(this,e)},e.extend(n.MultiAutoComplete,n.AutoComplete,{renderComponent:function(){n.MultiAutoComplete.superclass.renderComponent.call(this),this.ddlist=new n.DDListField({parentEl:this.fieldContainer}),this.ddlist.on("itemRemoved",function(){this.setClassFromState(),this.fireUpdatedEvt()},this),this.ddlist.on("updated",this.fireUpdatedEvt,this)},setOptions:function(e){n.MultiAutoComplete.superclass.setOptions.call(this,e),this.options.returnLabel=e.returnLabel},itemSelectHandler:function(e){e.halt();var n=e.result,r=t.isFunction(this.options.returnValue)?this.options.returnValue(n):n.raw,i=t.isFunction(this.options.returnLabel)?this.options.returnLabel(n):r;this.ddlist.addItem({label:i,value:r}),this.el.value="",this.hiddenEl.value=this.stringifyValue(),this.fireUpdatedEvt(),this.onChange(),this.yEl.ac.hide()},setValue:function(e,t){this.ddlist.setValue(e),this.setClassFromState(),t!==!1&&this.fireUpdatedEvt()},getValue:function(){return this.ddlist.getValue()},getState:function(){var e=this.getValue();return e.length===0?this.options.required?n.stateRequired:n.stateEmpty:this.validate()?n.stateValid:n.stateInvalid},validate:function(){return!0},onChange:function(e){this.hiddenEl.value!=this.stringifyValue()&&(this.hiddenEl.value=this.stringifyValue())},onBlur:function(){this.el.value="",this.el.value===""&&this.options.typeInvite&&(Dom.addClass(this.divEl,"inputEx-typeInvite"),this.el.value===""&&(this.el.value=this.options.typeInvite))},stringifyValue:function(){return e.JSON.stringify(this.getValue())}}),n.registerType("multiautocomplete",n.MultiAutoComplete)},"3.1.0",{requires:["inputex-autocomplete","json","inputex-ddlist"]})},"@VERSION@");
