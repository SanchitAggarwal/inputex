YUI.add("inputex-combine",function(e,t){var n=e.Lang,r=e.inputEx;r.CombineField=function(e){r.CombineField.superclass.constructor.call(this,e)},e.extend(r.CombineField,r.Group,{setOptions:function(e){r.CombineField.superclass.setOptions.call(this,e),this.options.className=e.className?e.className:"inputEx-CombineField",this.options.separators=e.separators},render:function(){this.divEl=r.cn("div",{className:this.options.className}),this.options.id&&(this.divEl.id=this.options.id),n.isString(this.options.label)&&(this.labelDiv=r.cn("div",{id:this.divEl.id+"-label",className:"inputEx-label","for":this.divEl.id+"-field"}),this.labelEl=r.cn("label",null,null,this.options.label===""?"&nbsp;":this.options.label),this.labelDiv.appendChild(this.labelEl),this.divEl.appendChild(this.labelDiv)),this.renderFields(this.divEl),this.options.disabled&&this.disable(),this.divEl.appendChild(r.cn("div",{className:"inputEx-clear-div"},null," "))},renderFields:function(t){this.appendSeparator(0);if(!this.options.fields)return;var n,r=this.options.fields.length,i,s,o,u;for(n=0;n<r;n++)i=this.options.fields[n],this.options.required&&(i.required=!0),s=this.renderField(i),o=s.getEl(),u=i.type,u!="group"&&u!="form"&&s.divEl.removeChild(o.childNodes[o.childNodes.length-1]),e.one(o).setStyle("float","left"),this.divEl.appendChild(o),this.appendSeparator(n+1);this.setFieldName(this.options.name)},renderField:function(e){return this.options.required&&(e.required=!0),r.CombineField.superclass.renderField.call(this,e)},setFieldName:function(e){if(e)for(var t=0;t<this.inputs.length;t++){var n="";this.inputs[t].options.name?n=e+"["+this.inputs[t].options.name+"]":n=e+"["+t+"]",this.inputs[t].setFieldName(n)}},appendSeparator:function(e){if(this.options.separators&&this.options.separators[e]){var t=r.cn("div",{className:"inputEx-CombineField-separator"},null,this.options.separators[e]);this.divEl.appendChild(t)}},initEvents:function(){var t=this,i;r.CombineField.superclass.initEvents.apply(this,arguments);var s=e.one(this.divEl);s.on("focusout",function(e){e=n.merge(e),i=window.setTimeout(function(){i=null,t.onBlur(e)},25)}),s.on("focusin",function(e){i!==null?(window.clearTimeout(i),i=null):t.onFocus(e)})},setValue:function(e,t){if(!e)return;var n,r=this.inputs.length;for(n=0;n<r;n++)this.inputs[n].setValue(e[n],!1);this.runFieldsInteractions(),t!==!1&&this.fireUpdatedEvt()},getValue:function(){var e=[],t,n=this.inputs.length;for(t=0;t<n;t++)e.push(this.inputs[t].getValue());return e}}),r.registerType("combine",r.CombineField,[{type:"list",name:"fields",label:"Elements",required:!0,elementType:{type:"type"}},{type:"list",name:"separators",label:"Separators",required:!0}])},"@VERSION@",{requires:["inputex-group"],ix_provides:"combine"});
