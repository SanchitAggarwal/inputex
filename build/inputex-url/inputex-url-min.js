YUI.add("inputex-url",function(e,t){YUI.add("inputex-url",function(e){var t=e.Lang,n=e.inputEx;n.UrlField=function(e){n.UrlField.superclass.constructor.call(this,e)},e.extend(n.UrlField,n.StringField,{setOptions:function(e){n.UrlField.superclass.setOptions.call(this,e),this.options.className=e.className?e.className:"inputEx-Field inputEx-UrlField",this.options.messages.invalid=n.messages.invalidUrl,this.options.favicon=t.isUndefined(e.favicon)?"https:"==document.location.protocol?!1:!0:e.favicon,this.options.size=e.size||50,this.options.regexp=n.regexps.url},render:function(){n.UrlField.superclass.render.call(this),this.el.size=this.options.size,this.options.favicon||e.one(this.el).addClass("nofavicon"),this.options.favicon&&(this.favicon=n.cn("img",{src:n.spacerUrl}),this.fieldContainer.insertBefore(this.favicon,this.fieldContainer.childNodes[0]),e.on("click",function(){this.focus()},this.favicon,this))},setClassFromState:function(){n.UrlField.superclass.setClassFromState.call(this),this.options.favicon&&this.updateFavicon(this.previousState==n.stateValid?this.getValue():null)},updateFavicon:function(e){var t=e?e.match(/https?:\/\/[^\/]*/)+"/favicon.ico":n.spacerUrl;if(t!=this.favicon.src){n.sn(this.favicon,null,{visibility:"hidden"}),this.favicon.src=t,this.timer&&clearTimeout(this.timer);var r=this;this.timer=setTimeout(function(){r.displayFavicon()},1e3)}},displayFavicon:function(){n.sn(this.favicon,null,{visibility:this.favicon.naturalWidth!==0?"visible":"hidden"})},hideFavicon:function(){this.favicon.hide()},hide:function(){n.UrlField.superclass.hide.call(null,this),hideFavicon()}}),n.registerType("url",n.UrlField,[{type:"boolean",label:"Display favicon",name:"favicon",value:!0}])},"3.1.0",{requires:["inputex-string"]})},"@VERSION@");
